<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¤¾ç•œè¨ºæ–­ãƒ†ã‚¹ãƒˆ - ã‚·ãƒ£ãƒãƒã‚±é€£æº</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }
        .character-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .character-card {
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #f9fafb;
        }
        .character-card:hover {
            border-color: #3b82f6;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.15);
        }
        .character-card.selected {
            border-color: #3b82f6;
            background: #eff6ff;
        }
        .character-icon {
            width: 60px;
            height: 60px;
            margin: 0 auto 10px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            background: #e5e7eb;
        }
        .character-name {
            font-size: 12px;
            font-weight: bold;
            color: #374151;
        }
        .btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3);
        }
        .btn:disabled {
            background: #9ca3af;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        .stats {
            background: #f3f4f6;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }
        .stat-item {
            display: flex;
            justify-content: space-between;
            margin: 10px 0;
        }
        .stat-bar {
            width: 100px;
            height: 8px;
            background: #e5e7eb;
            border-radius: 4px;
            overflow: hidden;
        }
        .stat-fill {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6, #1d4ed8);
            transition: width 0.3s ease;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¢ ç¤¾ç•œè¨ºæ–­ãƒ†ã‚¹ãƒˆ</h1>
        <p style="text-align: center; color: #6b7280; margin-bottom: 30px;">
            ã‚ãªãŸã®ç¤¾ç•œã‚¿ã‚¤ãƒ—ã‚’è¨ºæ–­ã—ã¦ã€ã‚·ãƒ£ãƒãƒã‚±ã§è‚²æˆã‚’å§‹ã‚ã¾ã—ã‚‡ã†ï¼
        </p>

        <div class="character-grid" id="characterGrid">
            <!-- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚«ãƒ¼ãƒ‰ãŒå‹•çš„ã«ç”Ÿæˆã•ã‚Œã¾ã™ -->
        </div>

        <div class="stats" id="statsDisplay" style="display: none;">
            <h3>ğŸ“Š ã‚ãªãŸã®ç¤¾ç•œã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</h3>
            <div class="stat-item">
                <span>ğŸ’ª ã‚¹ãƒˆãƒ¬ã‚¹è€æ€§</span>
                <div class="stat-bar">
                    <div class="stat-fill" id="stressBar"></div>
                </div>
                <span id="stressValue">50</span>
            </div>
            <div class="stat-item">
                <span>ğŸ’¬ ã‚³ãƒŸãƒ¥åŠ›</span>
                <div class="stat-bar">
                    <div class="stat-fill" id="commBar"></div>
                </div>
                <span id="commValue">50</span>
            </div>
            <div class="stat-item">
                <span>âš¡ ä½“åŠ›</span>
                <div class="stat-bar">
                    <div class="stat-fill" id="enduranceBar"></div>
                </div>
                <span id="enduranceValue">50</span>
            </div>
            <div class="stat-item">
                <span>ğŸ€ é‹</span>
                <div class="stat-bar">
                    <div class="stat-fill" id="luckBar"></div>
                </div>
                <span id="luckValue">50</span>
            </div>
        </div>

        <button class="btn" id="startGameBtn" disabled>
            ğŸ® ã‚·ãƒ£ãƒãƒã‚±ã§è‚²æˆé–‹å§‹ï¼
        </button>
    </div>

    <script>
        // ç¤¾ç•œã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿
        const characters = [
            { id: 1, name: "æ–°ç±³ç¤¾ç•œãã‚“", emoji: "ğŸ˜Š", type: "æ–°å…¥ç¤¾å“¡", color: "#3b82f6", stats: { stress: 50, communication: 60, endurance: 70, luck: 40 } },
            { id: 2, name: "ç–²ã‚Œåˆ‡ã£ãŸç¤¾å“¡", emoji: "ğŸ˜µ", type: "ä¸­å …ç¤¾å“¡", color: "#6b7280", stats: { stress: 30, communication: 40, endurance: 20, luck: 60 } },
            { id: 3, name: "ç‡ƒãˆå°½ãç—‡å€™ç¾¤", emoji: "ğŸ¤¯", type: "ãƒ™ãƒ†ãƒ©ãƒ³ç¤¾å“¡", color: "#dc2626", stats: { stress: 20, communication: 30, endurance: 10, luck: 80 } },
            { id: 4, name: "å®Œç’§ä¸»ç¾©è€…", emoji: "ğŸ˜¤", type: "ç®¡ç†è·å€™è£œ", color: "#7c3aed", stats: { stress: 90, communication: 70, endurance: 80, luck: 20 } },
            { id: 5, name: "æ®‹æ¥­ãƒã‚¹ã‚¿ãƒ¼", emoji: "ğŸŒ™", type: "ä¸­å …ç¤¾å“¡", color: "#1f2937", stats: { stress: 90, communication: 70, endurance: 95, luck: 30 } },
            { id: 6, name: "ã‚¹ãƒˆãƒ¬ã‚¹è€æ€§MAX", emoji: "ğŸ’ª", type: "ç®¡ç†è·", color: "#059669", stats: { stress: 100, communication: 80, endurance: 90, luck: 50 } },
            { id: 7, name: "ã‚³ãƒŸãƒ¥åŠ›ä¸è¶³", emoji: "ğŸ˜…", type: "æ–°å…¥ç¤¾å“¡", color: "#f59e0b", stats: { stress: 60, communication: 20, endurance: 70, luck: 70 } },
            { id: 8, name: "é‹ã®ãªã„äºº", emoji: "ğŸ˜­", type: "ãƒ•ãƒªãƒ¼ã‚¿ãƒ¼å‡ºèº«", color: "#ef4444", stats: { stress: 40, communication: 50, endurance: 60, luck: 10 } },
            { id: 9, name: "ä¸Šå¸ã®ãƒšãƒƒãƒˆ", emoji: "ğŸ¶", type: "ä¸­å …ç¤¾å“¡", color: "#8b5cf6", stats: { stress: 80, communication: 90, endurance: 60, luck: 70 } },
            { id: 10, name: "ãŠå±€æ§˜ã®ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ", emoji: "ğŸ‘µ", type: "æ–°å…¥ç¤¾å“¡", color: "#ec4899", stats: { stress: 30, communication: 40, endurance: 50, luck: 20 } },
            { id: 11, name: "æœæ´»ç¤¾ç•œ", emoji: "ğŸŒ…", type: "ç®¡ç†è·å€™è£œ", color: "#f97316", stats: { stress: 70, communication: 60, endurance: 85, luck: 60 } },
            { id: 12, name: "å¤œå‹ç¤¾ç•œ", emoji: "ğŸ¦‰", type: "ä¸­å …ç¤¾å“¡", color: "#1e40af", stats: { stress: 60, communication: 50, endurance: 70, luck: 40 } },
            { id: 13, name: "å®Œç’§ãªç¤¾ç•œ", emoji: "âœ¨", type: "ç®¡ç†è·", color: "#10b981", stats: { stress: 95, communication: 95, endurance: 95, luck: 95 } },
            { id: 14, name: "å•é¡Œå…ç¤¾ç•œ", emoji: "ğŸ˜ˆ", type: "ãƒ•ãƒªãƒ¼ã‚¿ãƒ¼å‡ºèº«", color: "#dc2626", stats: { stress: 40, communication: 30, endurance: 40, luck: 90 } },
            { id: 15, name: "å½±ã®å®ŸåŠ›è€…", emoji: "ğŸ‘¤", type: "ãƒ™ãƒ†ãƒ©ãƒ³ç¤¾å“¡", color: "#374151", stats: { stress: 85, communication: 60, endurance: 80, luck: 50 } },
            { id: 16, name: "é€æ˜äººé–“", emoji: "ğŸ‘»", type: "ãƒ•ãƒªãƒ¼ã‚¿ãƒ¼å‡ºèº«", color: "#6b7280", stats: { stress: 20, communication: 10, endurance: 30, luck: 90 } }
        ];

        let selectedCharacter = null;

        // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚°ãƒªãƒƒãƒ‰ã‚’ç”Ÿæˆ
        function renderCharacterGrid() {
            const grid = document.getElementById('characterGrid');
            grid.innerHTML = characters.map(char => `
                <div class="character-card" data-id="${char.id}">
                    <div class="character-icon" style="background-color: ${char.color}">
                        ${char.emoji}
                    </div>
                    <div class="character-name">${char.name}</div>
                </div>
            `).join('');

            // ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¿½åŠ 
            document.querySelectorAll('.character-card').forEach(card => {
                card.addEventListener('click', () => selectCharacter(parseInt(card.dataset.id)));
            });
        }

        // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é¸æŠ
        function selectCharacter(id) {
            selectedCharacter = characters.find(c => c.id === id);
            
            // é¸æŠçŠ¶æ…‹ã‚’æ›´æ–°
            document.querySelectorAll('.character-card').forEach(card => {
                card.classList.remove('selected');
            });
            document.querySelector(`[data-id="${id}"]`).classList.add('selected');

            // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤ºã‚’æ›´æ–°
            updateStatsDisplay();
            
            // ãƒœã‚¿ãƒ³ã‚’æœ‰åŠ¹åŒ–
            document.getElementById('startGameBtn').disabled = false;
        }

        // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤ºã‚’æ›´æ–°
        function updateStatsDisplay() {
            if (!selectedCharacter) return;

            const stats = selectedCharacter.stats;
            
            document.getElementById('stressValue').textContent = stats.stress;
            document.getElementById('commValue').textContent = stats.communication;
            document.getElementById('enduranceValue').textContent = stats.endurance;
            document.getElementById('luckValue').textContent = stats.luck;

            document.getElementById('stressBar').style.width = `${stats.stress}%`;
            document.getElementById('commBar').style.width = `${stats.communication}%`;
            document.getElementById('enduranceBar').style.width = `${stats.endurance}%`;
            document.getElementById('luckBar').style.width = `${stats.luck}%`;

            document.getElementById('statsDisplay').style.display = 'block';
        }

        // ã‚²ãƒ¼ãƒ é–‹å§‹
        function startGame() {
            if (!selectedCharacter) return;

            const diagnosisResult = {
                id: `${Date.now()}-${Math.random().toString(36).substring(2, 11)}`,
                name: selectedCharacter.name,
                type: selectedCharacter.type,
                description: `è¨ºæ–­çµæœ: ${selectedCharacter.name}`,
                stats: selectedCharacter.stats,
                appearance: {
                    color: selectedCharacter.color,
                    style: "default",
                    iconId: selectedCharacter.id
                }
            };

            const gameUrl = window.location.origin; // åŒã˜ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ã‚·ãƒ£ãƒãƒã‚±
            const encoded = encodeURIComponent(JSON.stringify(diagnosisResult));
            window.location.href = `${gameUrl}/?diagnosis=${encoded}`;
        }

        // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
        document.getElementById('startGameBtn').addEventListener('click', startGame);

        // åˆæœŸåŒ–
        renderCharacterGrid();
    </script>
</body>
</html>
